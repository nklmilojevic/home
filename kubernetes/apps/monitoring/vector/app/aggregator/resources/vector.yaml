---
data_dir: /vector-data-dir
api:
  enabled: true
  address: 0.0.0.0:8686

#
# Sources
#

sources:
  mikrotik_source:
    type: vector
    version: "2"
    address: 0.0.0.0:6000

  kubernetes_source:
    type: vector
    version: "2"
    address: 0.0.0.0:6010

  kubernetes_ingress_source:
    type: vector
    version: "2"
    address: 0.0.0.0:6013
#
# Transforms
#

# transforms:

#
# Sinks
#

sinks:
  mikrotik:
    inputs: ["mikrotik_source"]
    type: elasticsearch
    endpoints:
      - http://vm-logs-victoria-logs-single-server.monitoring.svc:9428/insert/elasticsearch/
    # mode: "bulk"
    compression: gzip
    api_version: "v8"
    healthcheck:
      enabled: false
    query:
      _msg_field: "_msg"
      debug: "1"
      # _stream_fields: "hostname,source_ip"
  kubernetes:
    inputs: ["kubernetes_source"]
    type: elasticsearch
    endpoints:
      - http://vm-logs-victoria-logs-single-server.monitoring.svc:9428/insert/elasticsearch/
    # mode: "bulk"
    compression: gzip
    api_version: "v8"
    healthcheck:
      enabled: false
    query:
      _msg_field: "_msg"
  ingress:
    inputs: ["kubernetes_ingress_source"]
    type: elasticsearch
    endpoints:
      - http://vm-logs-victoria-logs-single-server.monitoring.svc:9428/insert/elasticsearch/
    # mode: "bulk"
    compression: gzip
    api_version: "v8"
    healthcheck:
      enabled: false
    query:
      _msg_field: "_msg"
      _time_field: "_time"
